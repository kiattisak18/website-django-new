{% load static %}
<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏°‡πÄ‡∏î‡∏• AI - DalbergiaPark</title>
    <link rel="icon" type="image/png" href="{% static 'dataapp/img/logoweb2.png' %}">
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'dataapp/css/add_model.css' %}">
    <link rel="stylesheet" href="{% static 'dataapp/css/style_head.css' %}">
</head>
<body>

  <header class="site-header">
    <nav class="nav container">
      <a class="brand" href="">üåø Dalbergia Manager</a>



      <ul class="nav-links">
        <li><a href="{% url 'mndata' %}">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a></li>
      </ul>
    </nav>
  </header>

<div class="update-management-container">
        <div class="section-header">
            <h2>üõ†Ô∏è ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏à‡∏≥‡πÅ‡∏ô‡∏Å‡∏™‡∏≤‡∏¢‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏û‡∏∑‡∏ä</h2>
        </div>

    <div class="status-card" style="margin-top: 20px;">
        <span class="status-label">üìÇ ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</span>
        <table style="width: 100%; border-collapse: collapse; margin-top: 15px; background: #fff;">
            <thead>
                <tr style="text-align: left; border-bottom: 2px solid #eee; background-color: #f8f9fa;">
                    <th style="padding: 12px;">‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå</th>
                    <th style="padding: 12px; text-align: center;">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                </tr>
            </thead>
            <tbody>
                {% for file in model_files %}
                <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 12px;"><code style="color: #333; background: #f4f4f4; padding: 2px 5px; border-radius: 4px;">{{ file }}</code></td>
                    <td style="padding: 12px; text-align: center;">
                        <form action="{% url 'lostmodel' file %}" method="POST" onsubmit="return confirm('‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ? ‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏î‡πâ');" style="display: inline;">
                            {% csrf_token %}
                            <button type="submit" style="background: #fff; color: #d32f2f; border: 1px solid #d32f2f; padding: 6px 12px; border-radius: 5px; cursor: pointer; transition: 0.3s;">
                                 ‡∏•‡∏ö‡πÑ‡∏ü‡∏•‡πå
                            </button>
                        </form>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="2" style="padding: 30px; text-align: center; color: #999;">üì≠ ‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÑ‡∏ü‡∏•‡πå‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏≠‡∏∑‡πà‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="upload-box" style="margin-top: 20px;">
        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <p style="margin-bottom: 15px; font-weight: 600;">‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÉ‡∏´‡∏°‡πà</p>
            
            <input type="file" name="new_model" accept=".h5,.keras,.tflite,.sav,.pkl" class="file-input-custom" required>
            
            <button type="submit" class="btn-predict">
                üîÑ ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÉ‡∏´‡∏°‡πà
            </button>
        </form>

        {% if success %}<p class="msg-success">‚úÖ {{ success }}</p>{% endif %}
        {% if error %}<p class="msg-error">‚ö†Ô∏è {{ error }}</p>{% endif %}
    </div>
</div>

</body>
</html>
{% load static %}
<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/png" href="{% static 'dataapp/img/logoweb2.png' %}">
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'dataapp/css/styletable.css' %}">
  
  <title>‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏Å‡∏∏‡∏•‡∏û‡∏∑‡∏ä</title>
    <style>
    .btn-container { margin-bottom: 20px; }
    .btn-back {
        background-color: #27512e;
        color: white;
        padding: 8px 16px;
        border-radius: 6px;
        font-size: 0.9rem;
        display: inline-block;
    }
    .btn-back:hover { background-color: #a8ef98; color: #000000; }
  </style>
</head>
<body style="padding-top: 20px;">

  <div class="container my-2">
    
    <div class="btn-container">
       <a href="/manage_genus" class="btn btn-back">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</a>
    </div>

    <section class="card">
      <div class="card-header">
          <h2 class="page-title">
             üîé ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤: <span style="color:var(--text-color); font-weight:normal;">"{{ name }}"</span>
          </h2>

              <form class="search-bar" method="get" action="{% url 'genusearch' %}" onsubmit="return validateSearch()">
                <input 
                  id="searchInput"
                  type="text" 
                  name="name" 
                  class="search-input" 
                  placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏Å‡∏∏‡∏•‡∏û‡∏∑‡∏ä..."
                  value="{{ request.GET.name }}"
                >
                <button type="submit" class="btn btn-search">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
              </form>

          <script>
            function validateSearch() {
                // ‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å‡∏ä‡πà‡∏≠‡∏á input
                var x = document.getElementsByName("name")[0].value;
                // ‡∏ñ‡πâ‡∏≤‡∏Ñ‡πà‡∏≤‡∏ß‡πà‡∏≤‡∏á
                if (x == "") {
                    alert("‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤"); // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
                    return false; // ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°
                }
                return true; // ‡∏¢‡∏≠‡∏°‡πÉ‡∏´‡πâ‡∏™‡πà‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°
            }
          </script>
      </div>

      {% if messages %}
        <div class="alert-stack">
          {% for message in messages %}
            <div class="alert {% if message.tags %}alert-{{ message.tags }}{% else %}alert-info{% endif %}">
              {{ message }}
            </div>
          {% endfor %}
        </div>
      {% endif %}

      <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
                <th scope="col" width="15%">‡∏£‡∏´‡∏±‡∏™</th>
                <th scope="col" width="35%">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏Å‡∏∏‡∏•‡∏û‡∏∑‡∏ä</th>
                <th scope="col" width="30%">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</th>
                <th scope="col" width="10%">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</th>
                <th scope="col" width="10%">‡∏•‡∏ö</th>
              </tr>
            </thead>
            <tbody>
              {% for gg in genus %}
              <tr>
                <td scope="row" class="text-center"><b>{{ gg.genus_id }}</b></td>
                <td style="color: var(--primary-dark); font-weight:600;">{{ gg.genus_name }}</td>
                <td class="text-desc">{{ gg.remarks }}</td>
                
                <td>
                    <a href="{% url 'updatege' gg.genus_id %}" class="btn btn-info btn-sm">
                       ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
                    </a>
                </td>
                
                <td>
                  <a href="{% url 'genusde' gg.genus_id %}" class="btn btn-danger btn-sm"
                     onclick="return confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö {{ gg.genus_name }} ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà ?')">
                     ‡∏•‡∏ö
                  </a>
                </td>
              </tr>
              {% empty %}
              <tr>
                  <td colspan="5" class="text-center empty-row">
                      ‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
                      <br>
                      <a href="/manage_genus" class="btn btn-warning btn-sm" style="margin-top:10px;">
                          ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                      </a>
                  </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
      </div>

    </section>
  </div> </body>
</html>